@using GDO.Core
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>GDO Management Panel</title>
    <!-- Bootstrap Core CSS -->
    <link href="../Bootstrap/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- MetisMenu CSS -->
    <link href="../Bootstrap/bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">
    <!-- Timeline CSS -->
    <link href="../Bootstrap/dist/css/timeline.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../Bootstrap/dist/css/sb-admin-2.css" rel="stylesheet">
    <!-- Morris Charts CSS -->
    <link href="../Bootstrap/bower_components/morrisjs/morris.css" rel="stylesheet">
    <!-- Custom Fonts -->
    <link href="../Bootstrap/bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
        body {
            background: #000;
            color: #FFF;
            font-family: helvetica;
            font-size: 70%;
            overflow-y: hidden;
            overflow-x: hidden;
            overflow: hidden;
        }

        .unselectable {
            -moz-user-select: -moz-none;
            -khtml-user-select: none;
            -webkit-user-select: none;
            -o-user-select: none;
            user-select: none;
        }

        #app_frame {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0 none;
            z-index: 9;
        }

        iframe {
            border: 0 none;
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
    <script>
        var gdo = {};
        gdo.net = {};
        gdo.management = {};
        gdo.maintenance = {};
        gdo.node = {};
        gdo.fs = {};
        gdo.net.peer = {};
        gdo.net.node = [];
        gdo.net.section = [];
        gdo.net.app = [];
        gdo.net.apps = {}
        gdo.net.instance = [];
        gdo.net.nodes = {};
        gdo.net.neighbour = {};
        @{
            foreach (KeyValuePair<string, App> appEntry in Cave.Apps)
            {
                @:gdo.net.app["@appEntry.Value.Name"] = {};
                @:gdo.net.app["@appEntry.Value.Name"].name = "@appEntry.Value.Name";
                @:gdo.@appEntry.Value.Name = {};
            }
        }
    </script>
</head>
<body unselectable="on" class="unselectable">
    <script src="../Scripts/jquery-2.1.4.min.js"></script>
    <script src="../Scripts/jquery.signalR-2.2.0.min.js"></script>
    <script src="../Scripts/jquery.csv-0.71.min.js"></script>
    <script type="text/javascript" src="../Scripts/gdo.js"></script>
    <script src="../signalr/hubs"></script>
    <script type="text/javascript" src="../Scripts/peer.js"></script>
    <script>
            $(function() {
                @{
                    foreach (KeyValuePair<string, App> appEntry in Cave.Apps)
                    {
                        @:gdo.loadModule("@appEntry.Value.Name","@appEntry.Value.Name", gdo.MODULE_TYPE.APP);
                                    }
                }
                $(document).ready(function () {
                    gdo.clientId = getUrlVar('clientId');
                    gdo.initGDO(gdo.CLIENT_MODE.NODE);
                });
            });
            window.onerror = function (errorMsg, url, lineNumber, column, errorObj) {
                var space = "<br /> ";
                gdo.consoleOut("", 5, errorMsg + space + 'Script: ' + url + space + 'Line: ' + lineNumber
                    + space + 'Column: ' + column + space + 'StackTrace: ' + errorObj);
            }
            initApp = function() {
                gdo.consoleOut('', 1, 'GDO Initialized');
                gdo.updateSelf();
            }
    </script>
    <div id="app_frame">
        <iframe id="app_frame_content" name="app_frame_content" allowtransparency="true"></iframe>
    </div>
    <div id="wrapper">

    </div>
    <!-- /#wrapper -->
    <!--<script src="..//Bootstrap/bower_components/jquery/dist/jquery.min.js"></script>-->
    <!-- Bootstrap Core JavaScript -->
    <script src="../Bootstrap/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- Custom Theme JavaScript -->
    <script src="../Bootstrap/dist/js/sb-admin-2.js"></script>
</body>
</html>
